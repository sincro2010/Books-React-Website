{"ast":null,"code":"import { ActionCreator } from './action.js';\nimport { AuthorizationStatus, AppRoute, HttpCode, Status } from '../common/const.js';\nexport const checkAuth = userid => (next, _getState, api) => api.get('http://localhost:3002/login/get/${userid}').then(_ref => {\n  let {\n    data\n  } = _ref;\n  return next(ActionCreator.authorizationInfo(data));\n}).then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH))).catch(() => {});\nexport const logIn = _ref2 => {\n  let {\n    username: username,\n    email: email,\n    password: password\n  } = _ref2;\n  return (next, _getState, api) => api.post('http://localhost:3002/login/post', {\n    username,\n    email,\n    password\n  }).then(_ref3 => {\n    let {\n      data\n    } = _ref3;\n    return next(ActionCreator.authorizationInfo(data));\n  }).then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH))).then(() => next(ActionCreator.redirectToRoute(AppRoute.MAIN)));\n};\nexport const logOut = () => (next, _getState, api) => api.get('http://localhost:3002/login/get').then(() => next(ActionCreator.authorizationInfo({}))).then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.NO_AUTH))).catch(() => {});","map":{"version":3,"names":["ActionCreator","AuthorizationStatus","AppRoute","HttpCode","Status","checkAuth","userid","next","_getState","api","get","then","data","authorizationInfo","requireAuthorization","AUTH","catch","logIn","username","email","password","post","redirectToRoute","MAIN","logOut","NO_AUTH"],"sources":["/Users/Pavel/Documents/учёба/Программирование/Файлы/Books/client/src/store/api-actions.js"],"sourcesContent":["import {ActionCreator} from './action.js';\nimport {AuthorizationStatus, AppRoute, HttpCode, Status} from '../common/const.js';\n\n\nexport const checkAuth = (userid) => (next, _getState, api) => (\n  api.get('http://localhost:3002/login/get/${userid}')\n     .then(({data}) => next(ActionCreator.authorizationInfo(data)))\n     .then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH)))\n     .catch(() => {})\n);\n\nexport const logIn = ({username: username, email: email, password: password}) => (next, _getState, api) => (\n  api.post('http://localhost:3002/login/post', {username, email, password})\n    .then(({data}) => next(ActionCreator.authorizationInfo(data)))\n    .then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH)))\n    .then(() => next(ActionCreator.redirectToRoute(AppRoute.MAIN)))\n);\n\nexport const logOut = () => (next, _getState, api) => (\n  api.get('http://localhost:3002/login/get')\n  .then(() => next(ActionCreator.authorizationInfo({})))\n  .then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.NO_AUTH)))\n  .catch(() => {})\n);\n"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,aAA5B;AACA,SAAQC,mBAAR,EAA6BC,QAA7B,EAAuCC,QAAvC,EAAiDC,MAAjD,QAA8D,oBAA9D;AAGA,OAAO,MAAMC,SAAS,GAAIC,MAAD,IAAY,CAACC,IAAD,EAAOC,SAAP,EAAkBC,GAAlB,KACnCA,GAAG,CAACC,GAAJ,CAAQ,2CAAR,EACIC,IADJ,CACS;EAAA,IAAC;IAACC;EAAD,CAAD;EAAA,OAAYL,IAAI,CAACP,aAAa,CAACa,iBAAd,CAAgCD,IAAhC,CAAD,CAAhB;AAAA,CADT,EAEID,IAFJ,CAES,MAAMJ,IAAI,CAACP,aAAa,CAACc,oBAAd,CAAmCb,mBAAmB,CAACc,IAAvD,CAAD,CAFnB,EAGIC,KAHJ,CAGU,MAAM,CAAE,CAHlB,CADK;AAOP,OAAO,MAAMC,KAAK,GAAG;EAAA,IAAC;IAACC,QAAQ,EAAEA,QAAX;IAAqBC,KAAK,EAAEA,KAA5B;IAAmCC,QAAQ,EAAEA;EAA7C,CAAD;EAAA,OAA4D,CAACb,IAAD,EAAOC,SAAP,EAAkBC,GAAlB,KAC/EA,GAAG,CAACY,IAAJ,CAAS,kCAAT,EAA6C;IAACH,QAAD;IAAWC,KAAX;IAAkBC;EAAlB,CAA7C,EACGT,IADH,CACQ;IAAA,IAAC;MAACC;IAAD,CAAD;IAAA,OAAYL,IAAI,CAACP,aAAa,CAACa,iBAAd,CAAgCD,IAAhC,CAAD,CAAhB;EAAA,CADR,EAEGD,IAFH,CAEQ,MAAMJ,IAAI,CAACP,aAAa,CAACc,oBAAd,CAAmCb,mBAAmB,CAACc,IAAvD,CAAD,CAFlB,EAGGJ,IAHH,CAGQ,MAAMJ,IAAI,CAACP,aAAa,CAACsB,eAAd,CAA8BpB,QAAQ,CAACqB,IAAvC,CAAD,CAHlB,CADmB;AAAA,CAAd;AAOP,OAAO,MAAMC,MAAM,GAAG,MAAM,CAACjB,IAAD,EAAOC,SAAP,EAAkBC,GAAlB,KAC1BA,GAAG,CAACC,GAAJ,CAAQ,iCAAR,EACCC,IADD,CACM,MAAMJ,IAAI,CAACP,aAAa,CAACa,iBAAd,CAAgC,EAAhC,CAAD,CADhB,EAECF,IAFD,CAEM,MAAMJ,IAAI,CAACP,aAAa,CAACc,oBAAd,CAAmCb,mBAAmB,CAACwB,OAAvD,CAAD,CAFhB,EAGCT,KAHD,CAGO,MAAM,CAAE,CAHf,CADK"},"metadata":{},"sourceType":"module"}