{"ast":null,"code":"import { ActionCreator } from './action.js';\nimport { AuthorizationStatus, AppRoute } from '../common/const.js';\nimport Header from '../header/header.js';\nexport const checkAuth = () => (next, _getState, api) => api.get(AppRoute.LOGIN).then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH))).catch(() => {});\nexport const logIn = _ref => {\n  let {\n    login,\n    email,\n    password\n  } = _ref;\n  return (next, _getState, api) => api.post(AppRoute.LOGIN, {\n    login,\n    email,\n    password\n  }).then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH))).then(() => next(ActionCreator.redirectToRoute(AppRoute.MAIN))).then(() => alert(\"successful insert\"));\n};","map":{"version":3,"names":["ActionCreator","AuthorizationStatus","AppRoute","Header","checkAuth","next","_getState","api","get","LOGIN","then","requireAuthorization","AUTH","catch","logIn","login","email","password","post","redirectToRoute","MAIN","alert"],"sources":["/Users/Pavel/Documents/учёба/Программирование/Файлы/Books/client/src/store/api-actions.js"],"sourcesContent":["import {ActionCreator} from './action.js';\nimport {AuthorizationStatus, AppRoute} from '../common/const.js';\nimport Header from '../header/header.js'\n\nexport const checkAuth = () => (next, _getState, api) => (\n  api.get(AppRoute.LOGIN)\n     .then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH)))\n     .catch(() => {})\n);\n\nexport const logIn = ({login, email, password}) => (next, _getState, api) => (\n  api.post(AppRoute.LOGIN, {login, email, password})\n    .then(() => next(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH)))\n    .then(() => next(ActionCreator.redirectToRoute(AppRoute.MAIN)))\n    .then(() => alert(\"successful insert\"))\n);\n"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,aAA5B;AACA,SAAQC,mBAAR,EAA6BC,QAA7B,QAA4C,oBAA5C;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM,CAACC,IAAD,EAAOC,SAAP,EAAkBC,GAAlB,KAC7BA,GAAG,CAACC,GAAJ,CAAQN,QAAQ,CAACO,KAAjB,EACIC,IADJ,CACS,MAAML,IAAI,CAACL,aAAa,CAACW,oBAAd,CAAmCV,mBAAmB,CAACW,IAAvD,CAAD,CADnB,EAEIC,KAFJ,CAEU,MAAM,CAAE,CAFlB,CADK;AAMP,OAAO,MAAMC,KAAK,GAAG;EAAA,IAAC;IAACC,KAAD;IAAQC,KAAR;IAAeC;EAAf,CAAD;EAAA,OAA8B,CAACZ,IAAD,EAAOC,SAAP,EAAkBC,GAAlB,KACjDA,GAAG,CAACW,IAAJ,CAAShB,QAAQ,CAACO,KAAlB,EAAyB;IAACM,KAAD;IAAQC,KAAR;IAAeC;EAAf,CAAzB,EACGP,IADH,CACQ,MAAML,IAAI,CAACL,aAAa,CAACW,oBAAd,CAAmCV,mBAAmB,CAACW,IAAvD,CAAD,CADlB,EAEGF,IAFH,CAEQ,MAAML,IAAI,CAACL,aAAa,CAACmB,eAAd,CAA8BjB,QAAQ,CAACkB,IAAvC,CAAD,CAFlB,EAGGV,IAHH,CAGQ,MAAMW,KAAK,CAAC,mBAAD,CAHnB,CADmB;AAAA,CAAd"},"metadata":{},"sourceType":"module"}